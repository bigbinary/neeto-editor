import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { Editor } from "../../../src";
import { Button } from "neetoui";
import { attachments, setAttachments } from "./constants";
import { ATTACHMENTS_TABLE_COLUMNS, ATTACHMENTS_TABLE_ROWS } from "./constants";
import { Attachments } from "../../../src";
import Table from "../../components/Table";
import DefaultAttachment from "../../assets/attachments.gif";

<Meta
  title="Walkthroughs/Attachments"
  parameters={{
    layout: "padded",
    previewTabs: {
      canvas: {
        hidden: true,
      },
    },
  }}
  component={Attachments}
/>

# Attachments

`import Attachments from "@bigbinary/neeto-editor/Attachments";`

The Attachments component allows users to upload files by either drag-and-drop
or by selecting them through a file input. It utilizes the `Uppy` package for
handling the file upload process.

<img src={DefaultAttachment} />
<br />

#### **Props**

<Table columns={ATTACHMENTS_TABLE_COLUMNS} rows={ATTACHMENTS_TABLE_ROWS} />
<br />
<br />

#### **Properties of config prop**

> allowedFileTypes: [ ".jpg", ".png", ... ]<br /> maxNumberOfFiles: 1 ( for
> single file or else multiple files can be selected )<br /> maxFileSize =
> 100 \* 1024 \* 1024 ( for 100 MB ).

<br />

## **Stories**

<br />

### **Default**

The attachments prop is an array of objects with the following structure:

```js
[
  {
    filename: "example.jpg",
    url: "https://example.com/images/example.jpg",
    signedId: "ASDF1234",
  },
  {
    filename: "example2.jpg",
    url: "https://example.com/images/example2.jpg",
    signedId: "QWER5678",
  },
];
```

<Canvas>
  <Story name="Default">
    <Attachments attachments={[]} onChange={() => {}} />
  </Story>
</Canvas>

### **With previous Attachments**

<Canvas>
  <Story name="With previous Attachments">
    <Attachments attachments={attachments} onChange={setAttachments} />
  </Story>
</Canvas>

### **With options disabled**

<Canvas>
  <Story name="With options disabled">
    <Attachments
      attachments={attachments}
      onChange={setAttachments}
      isIndependent={false}
      disabled
    />
  </Story>
</Canvas>
