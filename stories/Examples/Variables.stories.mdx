import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { Editor } from "../../src";
import Variables from "../assets/variables.png";
import VariablesDemo from "./VariablesDemo";

<Meta
  title="Examples/Variables"
  parameters={{
    layout: "padded",
    previewTabs: {
      canvas: {
        hidden: true,
      },
    },
  }}
  component={Editor}
/>

# Variable Support

neetoEditor supports variable placement. Pass array of variables as `variables`
prop. Users can choose from available variables from the `#` icon in the fixed
menu. Alternatively, the available variable options can be displayed by
typing`{{` within the editor.

<Canvas>
  <Story name="Variables">
    <Editor
      variables={[
        {
          category_key: "ticket",
          category_label: "Ticket",
          variables: [
            { label: "ID", key: "id" },
            { label: "Number", key: "number" },
            { label: "Category", key: "category" },
            { label: "Status", key: "status" },
            { label: "Customer URL/Link", key: "customer_url" },
            { label: "Latest Comment", key: "latest_comment" },
            { label: "Updated at", key: "updatedt_at" },
          ],
        },
        { label: "Subdomain", key: "subdomain" },
        {
          category_key: "organisation",
          category_label: "Organisation",
          variables: [
            { label: "ID", key: "id" },
            { label: "Name", key: "name" },
            { label: "Slug", key: "slug" },
          ],
        },
      ]}
    />
  </Story>
</Canvas>

### **Usage**

following is the example of how to use variables in neetoEditor.

<VariablesDemo />

<br />

### **Variables Prop**

```js
[
  {
    category_key: "ticket",
    category_label: "Ticket",
    variables: [
      {
        label: "ID",
        key: "id",
        value: "001",
      },
      {
        label: "Name",
        key: "name",
        value: "Ticket name",
      },
    ],
  },
  {
    label: "Subdomain",
    key: "subdomain",
    value: "subdomain name",
  },
  {
    label: "User",
    key: "user",
  },
  {
    category_key: "organisation",
    category_label: "Organisation",
    variables: [
      {
        label: "ID",
        key: "id",
      },
      {
        label: "Name",
        key: "name",
        value: "Organisation name",
      },
    ],
  },
];
```

### **substituteVariables** method

The `substituteVariables` method can be used to substitute the variables of the
editor content with the associated values.

```jsx
const parsedEditorContent = substituteVariables(editorContent, variables);
```

Here `variables` is an array of the above mentioned format.
